{"ast":null,"code":"var _jsxFileName = \"D:\\\\VS_code_project\\\\Bohubrihi\\\\React\\\\redux-shop\\\\src\\\\components\\\\Auth\\\\Checkout.js\";\nimport React, { Component } from 'react';\nimport { Button, Modal, ModalBody } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst mapStateToProps = state => {\n  return {\n    products: state.CartReducer.products,\n    totalPrice: state.CartReducer.totalPrice,\n    userId: state.AuthReducer.userId,\n    token: state.AuthReducer.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nclass Checkout extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      values: {\n        address: \"\",\n        phone: \"\",\n        paymentType: \"Cash On Delivery\"\n      },\n      modalMsg: \"\",\n      isModalOpen: false\n    };\n\n    this.inputChangeHandler = e => {\n      this.setState({\n        values: { ...this.state.values,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.submitHandler = () => {\n      const products = [...this.props.products];\n      const proObj = {};\n\n      for (let i of products) {\n        proObj[i.id] = { ...i\n        };\n      }\n\n      console.log(typeof products);\n      const order = {\n        products: products,\n        totalPrice: this.props.totalPrice,\n        orderDetails: this.state.values,\n        orderTime: new Date(),\n        user: this.props.userId\n      };\n      const header = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${this.props.token}`\n        }\n      };\n      console.log(\"response\");\n      console.log(order);\n      axios.post(\"http://localhost:8000/api/order/\", order, header).then(response => {\n        console.log(response); // if (response.status === 201) {\n        //     this.setState({\n        //         isModalOpen: true,\n        //         modalMsg: \"Order Successfull!\",\n        //     })\n        // }\n        // else {\n        //     this.setState({\n        //         isModalOpen: true,\n        //         modalMsg: \"Order Failed!\"\n        //     })\n        // }\n      }).catch(err => console.log(err) // {\n      // this.setState({\n      //     isModalOpen: true,\n      //     modalMsg: \"Order Failed in catch!\",\n      // })\n      // }\n      );\n    };\n\n    this.goBack = () => {\n      this.props.history.goBack('/');\n    };\n  }\n\n  render() {\n    let form = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          border: \"1px solid grey\",\n          boxShadow: \"1px 1px #888888\",\n          borderRadius: \"5px\",\n          padding: \"20px\",\n          marginTop: \"100px\"\n        },\n        children: [\"Payment: \", this.props.totalPrice, \" $\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        style: {\n          border: \"1px solid grey\",\n          boxShadow: \"1px 1px #888888\",\n          borderRadius: \"5px\",\n          padding: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"address\",\n          onChange: e => this.inputChangeHandler(e),\n          value: this.state.values.address,\n          className: \"form-control\",\n          placeholder: \"Your Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"phone\",\n          onChange: e => this.inputChangeHandler(e),\n          className: \"form-control\",\n          value: this.state.values.phone,\n          placeholder: \"Your Phone Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"paymentType\",\n          onChange: e => this.inputChangeHandler(e),\n          className: \"form-control\",\n          value: this.state.values.paymentType,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Cash On Delivery\",\n            children: \"Cash On Delivery\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Bkash\",\n            children: \"Bkash\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Nagad\",\n            children: \"Nagad\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"mr-auto\",\n          style: {\n            backgroundColor: \"#D70F64\"\n          },\n          onClick: this.submitHandler,\n          children: \"Order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"ml-2\",\n          style: {\n            backgroundColor: \"secondary\",\n            marginLeft: \"10px\"\n          },\n          onClick: this.goBack,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [form, /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: this.state.isModalOpen,\n        onClick: this.goBack,\n        children: /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.state.modalMsg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Checkout);","map":{"version":3,"sources":["D:/VS_code_project/Bohubrihi/React/redux-shop/src/components/Auth/Checkout.js"],"names":["React","Component","Button","Modal","ModalBody","connect","axios","mapStateToProps","state","products","CartReducer","totalPrice","userId","AuthReducer","token","mapDispatchToProps","dispatch","Checkout","values","address","phone","paymentType","modalMsg","isModalOpen","inputChangeHandler","e","setState","target","name","value","submitHandler","props","proObj","i","id","console","log","order","orderDetails","orderTime","Date","user","header","headers","post","then","response","catch","err","goBack","history","render","form","border","boxShadow","borderRadius","padding","marginTop","backgroundColor","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Button, Modal, ModalBody } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        products: state.CartReducer.products,\r\n        totalPrice: state.CartReducer.totalPrice,\r\n        userId: state.AuthReducer.userId,\r\n        token: state.AuthReducer.token\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nclass Checkout extends Component {\r\n\r\n    state = {\r\n        values: {\r\n            address: \"\",\r\n            phone: \"\",\r\n            paymentType: \"Cash On Delivery\"\r\n        },\r\n        modalMsg: \"\",\r\n        isModalOpen: false\r\n    }\r\n\r\n    inputChangeHandler = (e) => {\r\n        this.setState({\r\n            values: {\r\n                ...this.state.values,\r\n                [e.target.name]: e.target.value\r\n            }\r\n        })\r\n    }\r\n\r\n    submitHandler = () => {\r\n\r\n        const products = [ ...this.props.products ];\r\n        const proObj = {}\r\n        for(let i of products){\r\n            proObj[i.id] = {...i}\r\n        }\r\n        \r\n\r\n        console.log(typeof(products));\r\n\r\n        const order = {\r\n            products: products,\r\n            totalPrice: this.props.totalPrice,\r\n            orderDetails: this.state.values,\r\n            orderTime: new Date(),\r\n            user: this.props.userId\r\n        }\r\n        const header = {\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": `Bearer ${this.props.token}`\r\n            }\r\n        }\r\n        console.log(\"response\")\r\n        console.log(order)\r\n        \r\n        axios.post(\"http://localhost:8000/api/order/\", order, header)\r\n            .then(response => {\r\n                console.log(response)\r\n                // if (response.status === 201) {\r\n                //     this.setState({\r\n                //         isModalOpen: true,\r\n                //         modalMsg: \"Order Successfull!\",\r\n                //     })\r\n                // }\r\n                // else {\r\n                //     this.setState({\r\n                //         isModalOpen: true,\r\n                //         modalMsg: \"Order Failed!\"\r\n                //     })\r\n                // }\r\n            })\r\n            .catch(err => console.log(err)\r\n                // {\r\n                // this.setState({\r\n                //     isModalOpen: true,\r\n                //     modalMsg: \"Order Failed in catch!\",\r\n                // })\r\n            // }\r\n            )\r\n    }\r\n\r\n\r\n    goBack = () => {\r\n        this.props.history.goBack('/');\r\n    }\r\n    render() {\r\n\r\n        let form = (\r\n            <div className=\"container\">\r\n                <h4 style={{\r\n                    border: \"1px solid grey\",\r\n                    boxShadow: \"1px 1px #888888\",\r\n                    borderRadius: \"5px\",\r\n                    padding: \"20px\",\r\n                    marginTop: \"100px\"\r\n                }}>Payment: {this.props.totalPrice} $</h4>\r\n                <form style={{\r\n                    border: \"1px solid grey\",\r\n                    boxShadow: \"1px 1px #888888\",\r\n                    borderRadius: \"5px\",\r\n                    padding: \"20px\"\r\n                }}>\r\n                    <textarea name=\"address\" onChange={(e) => this.inputChangeHandler(e)} value={this.state.values.address} className=\"form-control\" placeholder=\"Your Address\" ></textarea>\r\n                    <br />\r\n                    <input name=\"phone\" onChange={(e) => this.inputChangeHandler(e)} className=\"form-control\" value={this.state.values.phone} placeholder=\"Your Phone Number\" />\r\n                    <br />\r\n                    <select name=\"paymentType\" onChange={(e) => this.inputChangeHandler(e)} className=\"form-control\" value={this.state.values.paymentType} >\r\n                        <option value=\"Cash On Delivery\">Cash On Delivery</option>\r\n                        <option value=\"Bkash\">Bkash</option>\r\n                        <option value=\"Nagad\">Nagad</option>\r\n                    </select>\r\n                    <br />\r\n                    <Button className=\"mr-auto\" style={{ backgroundColor: \"#D70F64\" }} onClick={this.submitHandler} >Order</Button>\r\n                    <Button className=\"ml-2\" style={{ backgroundColor: \"secondary\", marginLeft: \"10px\" }} onClick={this.goBack} >Cancel</Button>\r\n                </form>\r\n            </div>\r\n        )\r\n        return (\r\n            <div>\r\n                {form}\r\n                <Modal isOpen={this.state.isModalOpen} onClick={this.goBack}>\r\n                    <ModalBody>\r\n                        <p>{this.state.modalMsg}</p>\r\n                    </ModalBody>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Checkout);\r\n"]},"metadata":{},"sourceType":"module"}