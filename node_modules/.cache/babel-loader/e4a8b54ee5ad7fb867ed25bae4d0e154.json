{"ast":null,"code":"var _jsxFileName = \"D:\\\\VS_code_project\\\\React Project Practice\\\\redux-shop\\\\src\\\\components\\\\Auth\\\\Checkout.js\";\nimport React, { Component } from 'react';\nimport { Button, Modal, ModalBody } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst mapStateToProps = state => {\n  return {\n    totalCost: state.totalCost,\n    purchasable: state.purchasable,\n    userId: state.userId,\n    token: state.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    reset_booking: () => dispatch(reset_booking())\n  };\n};\n\nclass Checkout extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      values: {\n        address: \"\",\n        phone: \"\",\n        paymentType: \"Cash On Delivery\"\n      }\n    };\n\n    this.inputChangeHandler = e => {\n      this.setState({\n        values: { ...this.state.values,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.submitHandler = () => {\n      this.setState({\n        isLoading: true\n      });\n      const booking = {\n        services: this.props.services,\n        totalCost: this.props.totalCost,\n        guest: this.state.values,\n        bookingTime: new Date(),\n        userId: this.props.userId\n      };\n      axios.post(\"https://hotel-booking-8aa77-default-rtdb.firebaseio.com/booking.json?auth=\" + this.props.token, booking).then(response => {\n        if (response.status === 200) {\n          this.setState({\n            isLoading: false,\n            isModalOpen: true,\n            modalMsg: \"Booking Successfull!\"\n          });\n          this.props.reset_booking();\n        } else {\n          this.setState({\n            isLoading: false,\n            isModalOpen: true,\n            modalMsg: \"Booking Failed!\"\n          });\n        }\n      }).catch(err => this.setState({\n        isLoading: false,\n        isModalOpen: true,\n        modalMsg: \"Booking Failed in catch!\"\n      }));\n    };\n\n    this.goBack = () => {\n      this.props.history.goBack('/');\n    };\n  }\n\n  render() {\n    let form = /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          border: \"1px solid grey\",\n          boxShadow: \"1px 1px #888888\",\n          borderRadius: \"5px\",\n          padding: \"20px\"\n        },\n        children: [\"Payment: \", this.props.totalCost, \" BDT\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        style: {\n          border: \"1px solid grey\",\n          boxShadow: \"1px 1px #888888\",\n          borderRadius: \"5px\",\n          padding: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"address\",\n          onChange: e => this.inputChangeHandler(e),\n          value: this.state.values.address,\n          className: \"form-control\",\n          placeholder: \"Your Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"phone\",\n          onChange: e => this.inputChangeHandler(e),\n          className: \"form-control\",\n          value: this.state.values.phone,\n          placeholder: \"Your Phone Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"paymentType\",\n          onChange: e => this.inputChangeHandler(e),\n          className: \"form-control\",\n          value: this.state.values.paymentType,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Cash On Delivery\",\n            children: \"Cash On Delivery\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Bkash\",\n            children: \"Bkash\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Nagad\",\n            children: \"Nagad\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          disabled: !this.props.purchasable,\n          className: \"mr-auto\",\n          style: {\n            backgroundColor: \"#D70F64\"\n          },\n          onClick: this.submitHandler,\n          children: \"Booking\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"ml-1\",\n          style: {\n            backgroundColor: \"secondary\"\n          },\n          onClick: this.goBack,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [this.state.isLoading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 41\n      }, this) : form, /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: this.state.isModalOpen,\n        onClick: this.goBack,\n        children: /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.state.modalMsg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Checkout);","map":{"version":3,"sources":["D:/VS_code_project/React Project Practice/redux-shop/src/components/Auth/Checkout.js"],"names":["React","Component","Button","Modal","ModalBody","connect","axios","mapStateToProps","state","totalCost","purchasable","userId","token","mapDispatchToProps","dispatch","reset_booking","Checkout","values","address","phone","paymentType","inputChangeHandler","e","setState","target","name","value","submitHandler","isLoading","booking","services","props","guest","bookingTime","Date","post","then","response","status","isModalOpen","modalMsg","catch","err","goBack","history","render","form","border","boxShadow","borderRadius","padding","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Button, Modal, ModalBody } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        totalCost: state.totalCost,\r\n        purchasable: state.purchasable,\r\n        userId: state.userId,\r\n        token: state.token\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        reset_booking: () => dispatch(reset_booking())\r\n    }\r\n}\r\n\r\nclass Checkout extends Component {\r\n\r\n    state = {\r\n        values: {\r\n            address: \"\",\r\n            phone: \"\",\r\n            paymentType: \"Cash On Delivery\"\r\n        }\r\n    }\r\n\r\n    inputChangeHandler = (e) => {\r\n        this.setState({\r\n            values: {\r\n                ...this.state.values,\r\n                [e.target.name]: e.target.value\r\n\r\n            }\r\n        })\r\n    }\r\n\r\n    submitHandler = () => {\r\n        this.setState({\r\n            isLoading: true\r\n        })\r\n\r\n        const booking = {\r\n            services: this.props.services,\r\n            totalCost: this.props.totalCost,\r\n            guest: this.state.values,\r\n            bookingTime: new Date(),\r\n            userId: this.props.userId\r\n        }\r\n        axios.post(\"https://hotel-booking-8aa77-default-rtdb.firebaseio.com/booking.json?auth=\" + this.props.token, booking)\r\n            .then(response => {\r\n                if (response.status === 200) {\r\n                    this.setState({\r\n                        isLoading: false,\r\n                        isModalOpen: true,\r\n                        modalMsg: \"Booking Successfull!\",\r\n                    })\r\n                    this.props.reset_booking();\r\n                }\r\n                else {\r\n                    this.setState({\r\n                        isLoading: false,\r\n                        isModalOpen: true,\r\n                        modalMsg: \"Booking Failed!\"\r\n                    })\r\n                }\r\n            })\r\n            .catch(err => this.setState({\r\n                isLoading: false,\r\n                isModalOpen: true,\r\n                modalMsg: \"Booking Failed in catch!\"\r\n            }))\r\n    }\r\n\r\n    goBack = () => {\r\n        this.props.history.goBack('/');\r\n    }\r\n    render() {\r\n\r\n        let form = (\r\n            <div>\r\n                <h4 style={{\r\n                    border: \"1px solid grey\",\r\n                    boxShadow: \"1px 1px #888888\",\r\n                    borderRadius: \"5px\",\r\n                    padding: \"20px\"\r\n                }}>Payment: {this.props.totalCost} BDT</h4>\r\n                <form style={{\r\n                    border: \"1px solid grey\",\r\n                    boxShadow: \"1px 1px #888888\",\r\n                    borderRadius: \"5px\",\r\n                    padding: \"20px\"\r\n                }}>\r\n                    <textarea name=\"address\" onChange={(e) => this.inputChangeHandler(e)} value={this.state.values.address} className=\"form-control\" placeholder=\"Your Address\" ></textarea>\r\n                    <br />\r\n                    <input name=\"phone\" onChange={(e) => this.inputChangeHandler(e)} className=\"form-control\" value={this.state.values.phone} placeholder=\"Your Phone Number\" />\r\n                    <br />\r\n                    <select name=\"paymentType\" onChange={(e) => this.inputChangeHandler(e)} className=\"form-control\" value={this.state.values.paymentType} >\r\n                        <option value=\"Cash On Delivery\">Cash On Delivery</option>\r\n                        <option value=\"Bkash\">Bkash</option>\r\n                        <option value=\"Nagad\">Nagad</option>\r\n                    </select>\r\n                    <br />\r\n                    <Button disabled={!this.props.purchasable} className=\"mr-auto\" style={{ backgroundColor: \"#D70F64\" }} onClick={this.submitHandler} >Booking</Button>\r\n                    <Button className=\"ml-1\" style={{ backgroundColor: \"secondary\" }} onClick={this.goBack} >Cancel</Button>\r\n                </form>\r\n            </div>\r\n        )\r\n        return (\r\n            <div>\r\n                {this.state.isLoading ? <Spinner /> : form}\r\n                <Modal isOpen={this.state.isModalOpen} onClick={this.goBack}>\r\n                    <ModalBody>\r\n                        <p>{this.state.modalMsg}</p>\r\n                    </ModalBody>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Checkout);\r\n"]},"metadata":{},"sourceType":"module"}